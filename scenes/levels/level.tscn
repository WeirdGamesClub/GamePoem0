[gd_scene load_steps=17 format=3 uid="uid://bhjwrs2arkdus"]

[ext_resource type="PackedScene" uid="uid://cx003asolw0md" path="res://scenes/cylindrical_world/cylidrical_world.tscn" id="1_bovvr"]
[ext_resource type="Script" uid="uid://nai7n87650wj" path="res://scenes/globals/level_signals.gd" id="1_urvlt"]
[ext_resource type="PackedScene" uid="uid://brcfccn3ndiuo" path="res://scenes/player/player_avatar.tscn" id="2_b2cq8"]
[ext_resource type="PackedScene" uid="uid://cggirilar04rf" path="res://scenes/drawing_menu/drawing_menu.tscn" id="3_b2cq8"]
[ext_resource type="PackedScene" uid="uid://cthv4b3wddim6" path="res://scenes/world_objects/spawnable_drawing.tscn" id="8_icy5c"]
[ext_resource type="Resource" uid="uid://c4vkqit1l86en" path="res://resources/birds_prompt.tres" id="9_rmjfq"]
[ext_resource type="Resource" uid="uid://cxvm2swfdoadh" path="res://resources/sun_prompt.tres" id="10_7pb6i"]
[ext_resource type="AudioStream" uid="uid://cmvm2kxukotuj" path="res://audio/reverbtest2.mp3" id="10_rmjfq"]
[ext_resource type="Shader" uid="uid://ddlgdi8x6djdj" path="res://art/materials/screen_space_backdrop.gdshader" id="11_7pb6i"]
[ext_resource type="Script" uid="uid://da5whr0wwhubu" path="res://scenes/levels/desaturate.gd" id="11_xfk5q"]
[ext_resource type="Texture2D" uid="uid://bqhtfdt4fhf7f" path="res://art/textures/game_poem_background.png" id="12_xfk5q"]

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_rmjfq"]

[sub_resource type="SphereMesh" id="SphereMesh_qogh7"]

[sub_resource type="ShaderMaterial" id="ShaderMaterial_xfk5q"]
render_priority = 0
shader = ExtResource("11_7pb6i")
shader_parameter/tex_albedo = ExtResource("12_xfk5q")
shader_parameter/tint = Vector3(0.7, 0.7, 0.7)

[sub_resource type="PlaneMesh" id="PlaneMesh_qogh7"]

[sub_resource type="Environment" id="Environment_rmjfq"]
adjustment_enabled = true

[node name="Level" type="Node3D"]
script = ExtResource("1_urvlt")

[node name="player_avatar" parent="." instance=ExtResource("2_b2cq8")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 2.5818, 0)

[node name="CharacterBody3D" parent="player_avatar" index="0" node_paths=PackedStringArray("world", "camera")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.000851631, 0.48, -0.0111914)
world = NodePath("../../cylidrical_world")
camera = NodePath("../../Camera3D")
walkSpeed = 0.4
horizontalConstraints = 2.8
upper_rot_bound = 40.0
lower_rot_bound = 65.0

[node name="Sprite3D" parent="player_avatar/CharacterBody3D" index="1"]
transform = Transform3D(0.1, 0, 0, 0, 0.1, 0, 0, 0, 0.1, 0, 0.138402, 0)
billboard = 2

[node name="MeshInstance3D" type="MeshInstance3D" parent="player_avatar/CharacterBody3D" index="2"]
transform = Transform3D(0.22007, 0, 0, 0, 0.22007, 0, 0, 0, 0.22007, 0, 0.0100601, 0)
visible = false
material_override = SubResource("StandardMaterial3D_rmjfq")
mesh = SubResource("SphereMesh_qogh7")
skeleton = NodePath("../..")

[node name="cylidrical_world" parent="." node_paths=PackedStringArray("player") instance=ExtResource("1_bovvr")]
transform = Transform3D(6, 0, 0, 0, 6, 0, 0, 0, 6, 0, 0, 0)
player = NodePath("../player_avatar/CharacterBody3D")
max_interval_btwn_splashes = 1.1
max_distance_btwn_splashes = 15.0
splash_duration = 2.3
splash_radius = 0.06
splash_width = 0.002

[node name="Camera3D" type="Camera3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 0.637437, 0.770502, 0, -0.770502, 0.637437, -0.00013113, 6.75981, 2.9315)
fov = 35.0
near = 0.165

[node name="AudioListener3D" type="AudioListener3D" parent="Camera3D"]
transform = Transform3D(-0.146221, 0, 0.989252, 0, 1, 0, -0.989252, 0, -0.146221, 0, 0, 0)

[node name="DirectionalLight3D" type="DirectionalLight3D" parent="."]
transform = Transform3D(-0.337424, -0.755208, 0.561966, -0.00830753, 0.599343, 0.800449, -0.941316, 0.265422, -0.208506, -0.245521, -0.216154, 0.394425)
shadow_enabled = true

[node name="DrawingMenu" parent="." instance=ExtResource("3_b2cq8")]

[node name="AudioStreamPlayer3D" type="AudioStreamPlayer3D" parent="."]
stream = ExtResource("10_rmjfq")
volume_db = -4.706

[node name="Backdrop" type="MeshInstance3D" parent="."]
transform = Transform3D(13.6876, 0, 0, 0, 7.71942, -11.3031, 0, 11.3031, 7.71942, 0, 0, -5.30126)
material_override = SubResource("ShaderMaterial_xfk5q")
mesh = SubResource("PlaneMesh_qogh7")

[node name="Bird" parent="." instance=ExtResource("8_icy5c")]
transform = Transform3D(6.35593, 0, 0, 0, 4.05142, 4.89733, 0, -4.89733, 4.05142, 2.12456, -1.2885, -2.19058)
prompt = ExtResource("9_rmjfq")

[node name="Bird2" parent="." instance=ExtResource("8_icy5c")]
transform = Transform3D(5.20713, 0, 0, 0, 3.31915, 4.01216, 0, -4.01216, 3.31915, 2.80918, -0.784059, -2.19058)
prompt = ExtResource("9_rmjfq")

[node name="Bird3" parent="." instance=ExtResource("8_icy5c")]
transform = Transform3D(4.29947, 0, 0, 0, 2.74059, 3.3128, 0, -3.3128, 2.74059, 3.38337, -0.283183, -2.77103)
prompt = ExtResource("9_rmjfq")

[node name="Sun" parent="." instance=ExtResource("8_icy5c")]
transform = Transform3D(10.5385, 0, 0, 0, 6.71751, 8.12007, 0, -8.12007, 6.71751, 0, -2.86582, -0.491923)
prompt = ExtResource("10_7pb6i")

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = SubResource("Environment_rmjfq")
script = ExtResource("11_xfk5q")

[connection signal="pickup_signal" from="." to="DrawingMenu" method="start_drawing"]

[editable path="player_avatar"]
